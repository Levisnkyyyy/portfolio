$("*[data-anim*=fade], *[data-anim=totop]").each(function(){$(this).css("opacity","0")});var mycolors=["rgba(72, 255, 196, 1)","rgba(85, 139, 255, 1)","rgba(255, 231, 76, 1)","rgba(166, 130, 255, 1)","rgba(12, 10, 62, 1)"];let current_color="rgba(72, 255, 196, 1)";var matchbganim=[],fadeelements=[];let loaded=!1,sections_visited=[],uri=window.location.href;function homeAnims(){loaded=!0,TweenMax.staggerFrom("#codebars rect",.2,{attr:{width:0},ease:Linear.easeNone,onStart:()=>{}},.3),$(".codebars").css("opacity","0.17")}1==uri.indexOf(":8080")&&(uri=!0),$(".project-info h3").each(function(){$(this).attr("data-anim","slideup")});let vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`),$(document).ready(function(){let dashloader=$(".logo-loader rect");if($(dashloader).css("-webkit-animation","none"),$(dashloader).css("-moz-animation","none"),$(dashloader).css("-ms-animation","none"),$(dashloader).css("animation","none"),TweenMax.to(".logo-loader rect",1,{strokeDashoffset:0,onComplete:function(){TweenMax.to("#loader",1.2,{width:0,ease:Power4.easeOut,onComplete:homeAnims});var pos_top="57px",pos_left="85px";minDevice("md")&&(pos_top="76px",pos_left="110px"),TweenMax.to("#loader-logo",2,{delay:.2,top:pos_top,left:pos_left,ease:Power3.easeOut,onStart:function(){TweenMax.to(".logo-loader",1,{width:"140px"})},onComplete:function(){TweenMax.to(".topbar .logo",.1,{opacity:1}),TweenMax.to(".logo-loader",.1,{opacity:0,delay:.06})}})}}),TweenMax.from(".homebgtext",2.2,{transform:"translateY(160%) translateX(-20%) rotate(-70deg)",opacity:0,ease:Power3.easeOut,delay:.7,onComplete:function(){$(".homebgtext").css("animation","homebg 120s linear infinite")}}),1!=uri){let rightclicked=!1;$("body").contextmenu(function(){0==rightclicked&&(gtag("event","rightclick",{event_category:"engagement"}),rightclicked=!0)})}isDevice("xs")&&$(".about_modal-avatar").prependTo($(".about_modal .columns")),$("#service_develop .rect_bar").each(function(){let h=$(this).attr("height"),y=$(this).attr("y"),tl=new TimelineMax({repeat:-1,repeatDelay:1,delay:2*Math.random()}),pixel_change=h*Math.random(),y_change=+y+ +pixel_change;tl.to($(this),1.3,{attr:{height:h-pixel_change,y:y_change}}).to($(this),1.3,{attr:{height:h,y:y},delay:Math.random()})}),$("#service_maintenance .rect_bar").each(function(){let w=$(this).attr("width"),tl=new TimelineMax({repeat:-1,repeatDelay:1,delay:2*Math.random()}),pixel_change=w*Math.random();tl.to($(this),1.3,{attr:{width:w-pixel_change}}).to($(this),1.3,{attr:{width:w}})}),$(".project.mine").click(function(){TweenMax.to(window,1,{scrollTo:"#home-wrapper"})});let toggler=0,aboutmodal={elm:$(".sidestripe .aboutme"),active:!1,getProperWidth:(vw=!1)=>isDevice("xs")?1==vw?jQuery(window).width()-4:"100vw":1==vw?"646px":"650px",toggle:()=>{let del=.7,stripe=minDevice("sm")?$(".animated_stripe"):$(".sidestripe"),stripe_width=minDevice("sm")?0:"4px";if(0==aboutmodal.active){let tl;$("body").addClass("noscroll").bind("touchmove",function(e){e.preventDefault()}),(new TimelineMax).set(stripe,{css:{zIndex:9}}).set(".sidebutton",{css:{zIndex:10}}).to(stripe,.9,{width:aboutmodal.getProperWidth(),ease:Power3.easeOut}).to(".about_modal",.8,{width:aboutmodal.getProperWidth(!0),ease:Power3.easeOut,delay:.3},0),setTimeout(()=>{aboutmodal.active=!0,$(".about_modal_stripe").addClass("active"),$(".about_modal *[data-anim]").each(function(){startAnimating(this)})},700)}else{let tl_rev;$("body").removeClass("noscroll").unbind("touchmove"),TweenMax.staggerTo(".about_modal *[data-anim]",1,{opacity:0}),new TimelineMax({delay:.3}).to(".about_modal",.8,{width:0,ease:Power3.easeInOut}).to(stripe,.9,{width:stripe_width,ease:Power3.easeOut,delay:.4},0),setTimeout(()=>{aboutmodal.active=!1,$(".about_modal_stripe").removeClass("active")},1e3)}}};if($(".sidebutton, .tocontact").click(function(){TweenMax.to(window,1,{scrollTo:"#footer"})}),$(".btn.more").click(function(){aboutmodal.toggle()}),$(".close_modal, .sidestripe, section, .sidebutton").click(function(){1==aboutmodal.active&&aboutmodal.toggle()}),isDevice("xs")||isDevice("sm")){let onexit=!1;$(".about_modal").click(function(){1==aboutmodal.active&&0==onexit&&(aboutmodal.toggle(),onexit=!0,setTimeout(()=>{onexit=!1},1e3))})}var footercolor="#3E3750";isDevice("xs")||$(".bg-text:not(.noanim) p").paroller({factor:.3,type:"foreground",direction:"vertical",transition:"transform 0.4s ease"}),$(".btn").each(function(){var btnanim=new TimelineMax({paused:!0}),arrow=$(this).find("i");btnanim.to(arrow,.1,{transform:"translateX(20px)",opacity:0,ease:Power0.easeNone}).to($(this).find(".circle"),.2,{width:"100%",ease:Power1.ease}).set(arrow,{transform:"translateX(-200px)"}).to($(this).find("span"),.1,{marginLeft:"20px"}).to(arrow,.1,{opacity:1,transform:"translateX(-180px)"}),$(this).hover(function(){btnanim.restart()},function(){btnanim.reverse()})});var controller=new ScrollMagic.Controller;if(new ScrollMagic.Scene({triggerElement:"#footer"}).on("enter",footerenter).on("leave",footerleave).triggerHook(.3).addTo(controller),!isDevice("xs")){var matchid=0;$(".matchbgcolor").each(function(){var $elm=this,pos,triggerpos=$($elm).offset().top/$(window).height();$($elm).hasClass("logo")&&(triggerpos=.1),matchbganim[matchid]=new ScrollMagic.Scene({triggerElement:"#about",triggerHook:triggerpos}).on("leave",function(){matchBgColor($elm,"white")}).on("enter",function(){matchBgColor($elm,"black")}).addTo(controller),matchid++}),new ScrollMagic.Scene({triggerElement:".home-wrapper",triggerHook:0}).on("enter",function(){shortenLogo()}).on("leave",function(){widenLogo()}).offset(20).addTo(controller)}var index=0,$sidetexts=[],lastsection="home";$(".section").each(function(){var $elm=this,$sidetext=$($elm).find(".sidetext p");$sidetexts[parseInt($sidetext.attr("key"))]=$sidetext,console.log(parseInt($sidetext.attr("key"))+" "+$sidetext.html());var sectionname=$(this).attr("id"),scene=new ScrollMagic.Scene({triggerElement:$elm,triggerHook:.6}).on("enter",function(event){var smod="REVERSE"==event.scrollDirection?-1:1;switch(1==smod&&-1==sections_visited.indexOf(sectionname)&&startAnims($elm),sectionname){case"about":TweenMax.to("#about .bg-text",.6,{opacity:1});break;case"work":TweenMax.to("#work .bg-text",.6,{opacity:1});break;case"footer":TweenMax.to("#work .bg-text",.6,{opacity:0})}index++,sections_visited.push(sectionname),lastsection=sectionname,sidetextShow($sidetext,smod,index-1),1!=index&&sidetextHide($sidetexts[index-1],smod,index-1)}).on("leave",function(event){switch(sectionname){case"footer":TweenMax.to("#work .bg-text",.6,{opacity:1});break;case"work":TweenMax.to("#work .bg-text",.6,{opacity:0})}var smod=-1;sidetextShow($sidetexts[index-1],-1,index-2),sidetextHide($sidetext,-1,index),index--}).addTo(controller)});var $cursor=$("#cursor");if($("body").on("mousemove",function(e){isDevice("xs")||TweenMax.to($cursor,.2,{left:e.clientX-10,top:e.clientY-10})}),$("#work .project").hover(function(){TweenMax.to($(this).find(".project-link .fas"),.3,{rotation:-20,delay:.1})},function(){TweenMax.to($(this).find(".project-link .fas"),.3,{rotation:0,delay:.1})}),$("a, .pointer,#work .project, .sidebutton").on("mouseenter",function(){TweenMax.to("#cursor",.2,{transform:"scale(2.5)",opacity:.5})}).on("mouseleave",function(){TweenMax.to("#cursor",.2,{transform:"scale(1)",opacity:1})}),$(".sendbtn").on("click",function(e){$(this).html("Sending.."),$.post("post.php",$("form").serialize(),function(result){$(".sendbtn").html(result).addClass("hover"),gtag("event","form_sent",{event_category:"engagement",event_label:"NAME: "+$("form *[name=name]").val()+" EMAIL: "+$("form *[name=email]").val()+" TEXT: "+$("form textarea").val()})})}),isDevice("xs")||isDevice("sm")){let infos=[];$(".footer-info h3").click(function(){-1==infos.indexOf(this)?(TweenMax.to($(this).find("i"),.5,{rotation:180}),TweenMax.to($(this).next(),.6,{height:$(this).next().attr("dheight")}),infos.push(this)):(TweenMax.to($(this).find("i"),.5,{rotation:0}),TweenMax.to($(this).next(),.6,{height:0}),infos.splice(infos.indexOf(this),1))})}});let logo={elm:$(".sidebar .logo"),rect:$(".sidebar .logo").find("rect"),text:[],state:{wide:!0,white:!0}};$(logo.elm.find("text")).each(function(){logo.text[$(this).attr("num")]=this});for(var tween_logo=new TimelineMax({paused:!0}),i=6;i>0;i--)tween_logo.to(logo.text[i],.07,{opacity:0});function shortenLogo(){logo.state.wide=!1,tween_logo.restart()}function widenLogo(){logo.state.wide=!0,tween_logo.reverse()}function matchBgColor(elm,col){TweenMax.to(elm,.4,{color:col,onComplete:()=>{$(elm).parent(".topmenu")&&("white"==col?$(elm).removeClass("black"):$(elm).addClass("black"))}}),$(elm).hasClass("logo")&&recolorLogo(col,.5)}function startAnims(parent){0!=loaded||"home-wrapper"!=$(parent).attr("id")?"home-wrapper"==$(parent).attr("id")&&$(parent).find("*[data-anim]").each(function(){startAnimating(this)}):setTimeout(startAnims,100,parent)}function startAnimating(elm){let del=null==$(elm).attr("data-anim-delay")?0:$(elm).attr("data-anim-delay"),dur=null==$(elm).attr("data-anim-dur")?1:$(elm).attr("data-anim-dur"),dataanim;switch($(elm).attr("data-anim")){case"fade":TweenMax.to(elm,dur,{opacity:1,delay:del});break;case"block":let obj=anim_block.find(x=>$(elm).is(x.elm));setTimeout(obj.start,1e3*del);break;case"slideup":TweenMax.to($(elm).find(".anim-slideup-div"),dur,{height:0,ease:Power2.easeOut,delay:del});break;case"totop":null==$(elm).attr("data-anim-dur")&&(dur=.7),TweenMax.from(elm,dur,{y:"100px",ease:Power1.easeOut,delay:del}),TweenMax.to(elm,dur,{opacity:1,delay:del});break;default:console.log("oops!")}}tween_logo.to(logo.text[7],.5,{x:"38px",delay:.2},0),tween_logo.to(logo.rect,.33,{attr:{width:"44"},ease:Power1.ease,onStart:()=>console.log("start")});var animcontrol=new ScrollMagic.Controller;$("*[data-anim]:not([data-anim-link]").each(function(){let element=this,visited=!1;if(!($(this).parents(".home-wrapper").length||$(this).parents("#footer").length||$(this).parents(".about_modal").length))var scene=new ScrollMagic.Scene({triggerHook:.9,triggerElement:this}).on("enter",function(){if(0==visited){if(startAnimating($(element)),null!=$(element).attr("id")){var id=$(element).attr("id");$("*[data-anim-link="+id+"]").length&&$("*[data-anim-link="+id+"]").each(function(){startAnimating(this)})}visited=!0}}).addTo(animcontrol)}),$("*[data-anim=slideup]").each(function(){$(this).html("<div class='anim-slideup-text'>"+$(this).html()+"</div>"),$(this).prepend("<div class='anim-slideup-div'></div>"),$(this).css("height",$(this).find(".anim-slideup-text").height()),$(this).find(".anim-slideup-div").css("height",$(this).find(".anim-slideup-text").height())});let anim_block=[];function AnimBlock(elm){this.elm=elm,this.textcolor=$(elm).css("color"),this.block={elm:$(this.elm).find(".anim-block-div"),color:()=>{let colorattr=$(elm).attr("data-anim-color");return jQuery.isNumeric(colorattr)?mycolors[colorattr-1]:colorattr}},this.spancolor=$(elm).find("span").css("color"),this.start=fcomplete=>{$(this.block.elm).css("background-color",this.block.color()),$(this.elm).css("color","rgba(1,1,1,0)").css("opacity","1"),null!=this.spancolor&&$(this.elm).find("span").css("color","rgba(1,1,1,0)");let wid=$(this.elm).width()+3,tlanim;(new TimelineMax).to(this.block.elm,.5,{width:"100%",ease:Power2.easeInOut,onComplete:()=>{$(this.elm).css("color",this.textcolor),null!=this.spancolor&&$(this.elm).find("span").css("color",this.spancolor)}}).to(this.block.elm,.4,{transform:`translateX(${wid}px)`,ease:Power2.easeInOut,onComplete:fcomplete}).to(this.block.elm,.1,{opacity:"0"})}}$("*[data-anim=block]").each(function(){$(this).append("<div class='anim-block-div'></div>");let block=new AnimBlock($(this));anim_block.push(block)});var tweens=new TimelineMax({paused:!0});function footerenter(){recolorLogo("white",.3);for(var i=0;i<matchbganim.length;i++)matchbganim[i].trigger("leave");tweens.play(),$("#footer").find("*[data-anim]").each(function(){setTimeout(()=>{startAnimating(this)},250)})}function footerleave(){recolorLogo("black",.3);for(var i=0;i<matchbganim.length;i++)matchbganim[i].trigger("enter");$(".sidebutton").css("display","block"),tweens.reverse()}function recolorLogo(clr="black",anim=.2,del=0,overridemobile=!1){isDevice("xs")&&1!=overridemobile||(logo.state.white="black"!=clr,TweenMax.to(".logo text",anim,{css:{fill:clr},delay:del}),TweenMax.to(".logo rect",anim,{css:{stroke:clr},delay:del}))}function getDevice(num=!1){var width=document.body.clientWidth,tablet=768,desktop=960,widescreen=1152,fullhd=1344,dev="xs";return width>=1344?dev="xl":width>=1152?dev="lg":width>=960?dev="md":width>=768&&(dev="sm"),dev}function isDevice(dev){return getDevice()==dev}function minDevice(dev){var width=document.body.clientWidth,tablet=768,desktop=960,widescreen=1152,fullhd=1344;switch(dev){case"sm":if(width>=768)return!0;break;case"md":if(width>=960)return!0;break;case"lg":if(width>=1152)return!0;break;case"xl":if(width>=1344)return!0;break;default:return!1}return!1}function sidetextShow($elm,dir,index){current_color=mycolors[index],TweenMax.to(".sidestripe,.matchsidecolor",.65,{backgroundColor:mycolors[index]}),TweenMax.set($($elm),{clearProps:"y, opacity"}),TweenMax.from($($elm),1,{opacity:1,ease:Power2.easeOut,y:dir*($(window).height()/2),onStart:function(){$($elm).addClass("active")}})}function sidetextHide($elm,dir,index){TweenMax.to($($elm),1,{opacity:0,y:dir*-$(window).height()/2-80,onComplete:function(){$($elm).removeClass("active"),TweenMax.set($($elm),{clearProps:"y, opacity"})}})}tweens.to("body",.4,{backgroundColor:"#231B37"},0).to(".sidebar>.topbar",.4,{backgroundImage:"linear-gradient(to top, rgba(255,0,0,0) 0%, rgba(62,55,80,0) 40%)"},0).to(".sidebar>.bottombar",.4,{backgroundImage:"linear-gradient(to bottom, rgba(255,0,0,0) 0%, rgba(62,55,80,0) 40%)"},0).to(".sidebar a, .sidetext p",.4,{color:"white"},0).to(".sidebutton",.25,{opacity:"0",onComplete:()=>{$(".sidebutton").css("display","none")}},0).to("#footer textarea,input,.sendbtn",.3,{opacity:"1"},0);